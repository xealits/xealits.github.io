<!doctype html>
<html lang="en" class="guttered">
  <head>
    <meta charset="utf-8">
    <!-- this should prevent mobile phones from randomly scaling everything -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <link rel="stylesheet" href="/css/all.css">
    <link rel="stylesheet" href="/css/syntax_highlighting.css">
  </head>

  <body class="colem-5">
    <nav class="float-right clear-a-line leave-a-line">
      <a href="/">Home</a>
      <span class="quartergutter"> </span>
      <a href="/blog">Blog</a>
      <span class="quartergutter"> </span>
      <a href="/about">About</a>
    </nav>

    <section class="colem-5">
      <article class="post">
        <h1>{{page.title}}</h1>
        <p class="post-meta">
          <time datetime="{{page.date}}">
            {{page.date | date: "%b %d, %Y"}}
          </time>
        </p>

        {{ content }}
      </article>
    </section>

    {% if page.path contains "projects" %}
    <section class="colem-5">
      Related posts:
      {% for post in site.posts %}
      {%- assign post_cat = post.categories | join: "/" -%}
      {%- assign post_dir = "/" | append: post_cat | append: "/" -%}
        {% if post_dir == page.dir %}

        <p>
        <a class="nav" href="{{post.url}}">{{ post.title }}</a>
          <br>
          <time datetime="{{post.date}}">
            {{post.date | date: "%b %d, %Y"}}
          </time>
        </p>
        {% endif %}
      {% endfor %}
    </section>
    {% endif %}
  </body>
</html>

